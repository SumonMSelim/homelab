# PocketID â€” OIDC/Passkey provider at https://id.mol.la
# Pass pocketid_admin_email and pocketid_session_secret via vars (e.g. vars/pocketid_vars.yml).
services:
  pocketid:
    image: {{ pocketid_image | default('ghcr.io/pocketid/pocketid:latest') }}
    container_name: pocketid-{{ inventory_hostname }}
    restart: unless-stopped
    ports:
      - "8080:8080"
    volumes:
      - pocketid_data:/app/data
    environment:
      PUBLIC_URL: "https://id.mol.la"
      POCKETID_ADMIN_EMAIL: "{{ pocketid_admin_email }}"
      POCKETID_SESSION_SECRET: "{{ pocketid_session_secret }}"

volumes:
  pocketid_data:
