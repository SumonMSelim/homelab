---
prometheus_port: 9090
grafana_port: 3000
prometheus_scrape_interval: "15s"
prometheus_retention: "30d"

prometheus_scrape_jobs:
  - job_name: prometheus
    targets: ["localhost:9090"]

# Node exporter targets — "name" becomes the instance label in Prometheus/Grafana.
# To add a new host: append an entry here and redeploy monitoring.
prometheus_node_targets:
  - { addr: "192.168.178.110:9100", name: proxmox }
  - { addr: "192.168.178.120:9100", name: ansible }
  - { addr: "192.168.178.121:9100", name: caddy }
  - { addr: "192.168.178.122:9100", name: pocketid }
  - { addr: "192.168.178.123:9100", name: vault }
  - { addr: "192.168.178.124:9100", name: monitoring }
  - { addr: "192.168.178.130:9100", name: postgresql }
  - { addr: "192.168.178.131:9100", name: mysql }
  - { addr: "192.168.178.132:9100", name: redis }
  - { addr: "192.168.178.133:9100", name: mongodb }
  - { addr: "192.168.178.253:9100", name: adguard-primary }
  - { addr: "192.168.178.254:9100", name: adguard-secondary }

# PVE exporter — Proxmox VE metrics
pve_exporter_target: "192.168.178.110"
pve_exporter_scrape_addr: "192.168.178.110:9221"

# Grafana OIDC (PocketID)
grafana_vault_secret_path: "kv/homelab/data/grafana"
grafana_oidc_name: "PocketID"
grafana_oidc_auth_url: "https://id.mol.la/authorize"
grafana_oidc_token_url: "https://id.mol.la/api/oidc/token"
grafana_oidc_api_url: "https://id.mol.la/api/oidc/userinfo"
grafana_oidc_scopes: "openid email profile groups"
grafana_root_url: "https://grafana.mol.la"

# Grafana dashboard provisioning
grafana_dashboards_dir: /var/lib/grafana/dashboards

# Community dashboards to download from Grafana.com by ID.
# Browse: https://grafana.com/grafana/dashboards/
# Workflow: find a dashboard → add its id + revision here → redeploy.
grafana_community_dashboards:
  - id: 1860
    revision: 37
    name: node-exporter-full
  - id: 10347
    revision: 1
    name: proxmox-via-prometheus
