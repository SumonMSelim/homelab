---
immich_version: "release"
immich_http_port: 2283
immich_metrics_api_port: 8081
immich_metrics_microservices_port: 8082
immich_tz: "Europe/Amsterdam"

immich_postgresql_host: "{{ hostvars['postgresql'].ansible_host }}"
immich_postgresql_port: 5432
immich_redis_host: "{{ hostvars['redis'].ansible_host }}"
immich_redis_port: 6379

immich_db_vault_secret_path: "kv/homelab/data/postgresql"
immich_db_password_vault_key: "immich"
immich_redis_vault_secret_path: "kv/homelab/data/redis"
immich_redis_vault_key: "password"

immich_db_username: "immich"
immich_db_database: "immich"
immich_upload_path: "/opt/immich/library"

# OIDC (PocketID) â€” set immich_oidc_enabled: true and store client_id/client_secret in Vault
immich_oidc_enabled: true
immich_oidc_vault_secret_path: "kv/homelab/data/immich_oidc"
immich_oidc_issuer_url: "https://id.mol.la"
immich_oidc_scope: "openid email profile groups"
immich_oidc_button_text: "Login with PocketID"
immich_oidc_auto_register: true
immich_oidc_auto_launch: false
# Trust Caddy proxy for correct redirect URIs
immich_trusted_proxies: "192.168.178.121"
